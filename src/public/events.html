<!--//public/events.html-->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EventPulse - Community Events</title>
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css">
<link rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css">
<style>
:root {
--primary: #E94D75;
--secondary: #2d8898b3;
--dark: #333;
--light: #f4f7fa;
--success: #28a745;
--logo1: #ff6b6b;
--purple: #9b5de5;
--pink: #f15bb5;
--yellow: #fee440;
--accent: #ffe66d;
--blue: #00bbf9;
--mint: #00f5d4;
}
* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}
body {
background-color: var(--light);
color: var(--dark);
}
h2 {
margin-top: 50px;
}
.container {
max-width: 1200px;
margin: 0 auto;
}
header {
background-color: white;
box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
padding: 15px 0;
position: sticky;
top: 0;
z-index: 100;
}
.header-content {
display: flex;
justify-content: space-between;
align-items: center;
}
.logo {
display: flex;
align-items: center;
}
.logo h1 {
font-size: 1.8rem;
}
.logo span:first-child {
color: var(--primary);
}
.logo span:last-child {
color: var(--secondary);
}
nav ul {
display: flex;
list-style: none;
}
nav ul li {
margin-left: 20px;
}
nav ul li a {
text-decoration: none;
color: var(--dark);
font-weight: 500;
transition: color 0.3s;
}
nav ul li a:hover {
color: var(--secondary);
}
nav ul li a.active {
color: var(--secondary);
}
nav ul li a.highlighted {
color: var(--primary);
font-weight: 600;
}
.hero {
text-align: center;
padding: 50px 0 30px;
}
.hero h2 {
font-size: 2.5rem;
color: var(--secondary);
margin-bottom: 20px;
}
.hero p {
max-width: 800px;
margin: 0 auto;
line-height: 1.6;
color: #666;
}
.section-header {
display: flex;
justify-content: space-between;
align-items: center;
margin: 40px 0 20px;
}
.section-header h3 {
font-size: 1.8rem;
color: var(--primary);
}
.create-btn {
background-color: var(--primary);
color: white;
border: none;
border-radius: 25px;
padding: 10px 20px;
font-weight: 500;
cursor: pointer;
display: flex;
align-items: center;
transition: transform 0.3s, background-color 0.3s;
}
.create-btn:hover {
background-color: #d43965;
transform: translateY(-2px);
}
.create-btn svg {
margin-right: 5px;
}
.events-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 20px;
margin-bottom: 40px;
}
.event-card {
background-color: white;
border-radius: 10px;
overflow: hidden;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
transition: transform 0.3s, box-shadow 0.3s;
padding: 20px;
}
.event-card:hover {
transform: translateY(-5px);
box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}
.event-image {
height: 150px;
background-size: cover;
background-position: center;
position: relative;
}
.event-date {
position: absolute;
top: 10px;
left: 10px;
background-color: rgba(255, 255, 255, 0.9);
border-radius: 20px;
padding: 5px 15px;
font-size: 0.8rem;
font-weight: 600;
color: var(--secondary);
}
.event-content {
padding: 20px;
}
.event-title {
font-size: 1.2rem;
margin-bottom: 8px;
color: var(--dark);
}
.event-location {
display: flex;
align-items: center;
margin-bottom: 15px;
color: #666;
font-size: 0.9rem;
}
.event-location svg {
color: var(--primary);
margin-right: 5px;
flex-shrink: 0;
}
.event-description {
margin-bottom: 20px;
font-size: 0.9rem;
color: #555;
line-height: 1.5;
}
.register-btn {
background-color: var(--secondary);
color: white;
border: none;
border-radius: 5px;
padding: 10px 15px;
width: 100%;
font-weight: 500;
cursor: pointer;
transition: background-color 0.3s;
}
.register-btn:hover {
background-color: #4286c9;
}
.volunteer-btn {
background-color: #5cb85c;
}
.volunteer-btn:hover {
background-color: #4a9c4a;
}
.volunteer-slider .slick-prev,
.volunteer-slider .slick-next {
z-index: 2;
}
.volunteer-slider .slick-prev {
left: -5px;
}
.volunteer-slider .slick-next {
right: -5px;
}
.volunteer-slider .slick-prev:before,
.volunteer-slider .slick-next:before {
color: var(--primary);
}
.volunteer-schedule {
font-size: 0.8rem;
background-color: #f0f7ff;
border-radius: 15px;
padding: 5px 10px;
display: inline-block;
margin-bottom: 10px;
color: var(--secondary);
font-weight: 500;
}
.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0, 0, 0, 0.5);
z-index: 1000;
overflow-y: auto;
}
.modal-content {
background-color: white;
border-radius: 10px;
max-width: 600px;
width: 90%;
margin: 40px auto;
overflow: hidden;
position: relative;
animation: modalFade 0.3s;
}
@keyframes modalFade {
from {
opacity: 0;
transform: translateY(-30px);
}
to {
opacity: 1;
transform: translateY(0);
}
}
.modal-header {
background-color: var(--secondary);
color: white;
padding: 15px 20px;
position: relative;
}
.modal-header h4 {
font-size: 1.5rem;
margin: 0;
}
.close-modal {
position: absolute;
right: 20px;
top: 15px;
font-size: 1.5rem;
cursor: pointer;
color: white;
background: none;
border: none;
}
.modal-body {
padding: 20px;
max-height: 70vh;
overflow-y: auto;
}
.form-group {
margin-bottom: 20px;
}
.form-group label {
display: block;
margin-bottom: 5px;
font-weight: 500;
}
.form-control {
width: 100%;
padding: 10px;
border: 1px solid #ddd;
border-radius: 5px;
font-size: 1rem;
}
textarea.form-control {
min-height: 100px;
resize: vertical;
}
.modal-footer {
padding: 15px 20px;
border-top: 1px solid #eee;
display: flex;
justify-content: flex-end;
}
.submit-btn {
background-color: var(--primary);
color: white;
border: none;
border-radius: 5px;
padding: 10px 25px;
font-weight: 500;
cursor: pointer;
transition: background-color 0.3s;
}
.submit-btn:hover {
background-color: #d43965;
}
.reg-form-header {
margin-bottom: 20px;
}
.reg-event-title {
font-size: 1.3rem;
color: var(--dark);
margin-bottom: 5px;
}
.reg-event-details {
font-size: 0.9rem;
color: #666;
}
.payment-info {
background-color: #f9f9f9;
border-radius: 5px;
padding: 15px;
margin-top: 20px;
}
.payment-amount {
font-size: 1.2rem;
font-weight: 600;
margin-bottom: 10px;
color: var(--dark);
}
.success-message {
display: none;
text-align: center;
padding: 30px;
}
.success-icon {
width: 60px;
height: 60px;
background-color: var(--success);
color: white;
border-radius: 50%;
display: flex;
justify-content: center;
align-items: center;
margin: 0 auto 20px;
font-size: 30px;
}
.success-title {
font-size: 1.5rem;
color: var(--success);
margin-bottom: 10px;
}
.success-text {
color: #555;
margin-bottom: 20px;
}
.close-success {
background-color: var(--success);
color: white;
border: none;
border-radius: 5px;
padding: 10px 20px;
cursor: pointer;
}
nav {
background: rgba(255, 255, 255, 0.9);
backdrop-filter: blur(10px);
position: fixed;
width: 100%;
padding: 1rem 5%;
display: flex;
justify-content: space-between;
align-items: center;
z-index: 1000;
transition: transform 0.4s ease;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}
nav.hidden {
transform: translateY(-100%);
}
.logo {
font-size: 1.8rem;
font-weight: 800;
background: linear-gradient(to right, var(--primary), var(--purple), var(--blue));
-webkit-background-clip: text;
background-clip: text;
color: transparent;
letter-spacing: 1px;
}
.nav-links {
display: flex;
gap: 2rem;
}
.nav-links a {
text-decoration: none;
color: #22626c;
font-weight: 600;
font-size: 1.1rem;
position: relative;
padding: 0.5rem 0;
transition: color 0.3s;
}
.nav-links a::after {
content: '';
position: absolute;
bottom: 0;
left: 0;
width: 0;
height: 3px;
background: linear-gradient(to right, var(--pink), var(--purple));
transition: width 0.3s ease;
border-radius: 5px;
}
.nav-links a:hover {
color: var(--primary);
}
.nav-links a:hover::after {
width: 100%;
}
.nav-login-button {
background: none;
border: none;
color: #22626c;
font-weight: 600;
font-size: 1.1rem;
cursor: pointer;
padding: 0.5rem 1rem;
transition: color 0.3s;
}
.nav-login-button:hover {
color: var(--primary);
}
.user-menu {
position: relative;
display: inline-block;
}
.user-dropdown {
display: none;
position: absolute;
top: 100%;
right: 0;
background: white;
border-radius: 8px;
box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
min-width: 150px;
z-index: 1000;
margin-top: 0.5rem;
}
.user-dropdown.active {
display: block;
}
.user-dropdown a {
display: block;
padding: 0.8rem 1.2rem;
color: #22626c;
text-decoration: none;
transition: background-color 0.3s;
}
.user-dropdown a:hover {
background-color: #f5f5f5;
color: var(--primary);
}
.dropdown {
position: relative;
display: inline-block;
}
.dropbtn {
background-color: #45b3b3;
color: white;
padding: 10px;
font-size: 16px;
border: none;
cursor: pointer;
}
.dropdown-content {
display: none;
position: absolute;
background-color: white;
min-width: 150px;
box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
z-index: 1;
}
.dropdown-content a {
color: black;
padding: 10px;
text-decoration: none;
display: block;
}
.dropdown-content a:hover {
background-color: #ddd;
}
.show {
display: block;
}
.volunteer-grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
gap: 20px;
width: 100%;
}
.volunteer-card {
display: flex;
flex-direction: column;
border-radius: 8px;
overflow: hidden;
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
transition: transform 0.3s ease, box-shadow 0.3s ease;
background-color: #fff;
height: 100%;
}
.volunteer-card:hover {
transform: translateY(-5px);
box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
}
.volunteer-image {
width: 100%;
height: 160px;
overflow: hidden;
}
.volunteer-image img {
width: 100%;
height: 150px;
transition: transform 0.3s ease;
}
.volunteer-card:hover .volunteer-image img {
transform: scale(1.05);
}
.volunteer-details {
padding: 16px;
display: flex;
flex-direction: column;
flex: 1;
}
.volunteer-details h4 {
margin-top: 0;
margin-bottom: 12px;
font-size: 1.2rem;
color: #333;
}
.volunteer-schedule,
.volunteer-location {
display: flex;
align-items: center;
gap: 8px;
margin-bottom: 8px;
color: #555;
font-size: 0.9rem;
}
.volunteer-description {
margin-bottom: 16px;
color: #666;
flex: 1;
}
.volunteer-footer {
margin-top: auto;
display: flex;
flex-direction: column;
gap: 12px;
}
.skills-tags {
display: flex;
flex-wrap: wrap;
gap: 6px;
margin-bottom: 8px;
}
.skill-tag {
background-color: #f0f8ff;
color: #0066cc;
padding: 4px 8px;
border-radius: 16px;
font-size: 0.8rem;
white-space: nowrap;
}
.volunteer-metrics {
display: flex;
justify-content: space-between;
align-items: center;
color: #666;
font-size: 0.9rem;
}
.volunteer-count {
display: flex;
align-items: center;
gap: 6px;
}
.volunteer-btn {
margin-top: 8px;
width: 100%;
padding: 8px 16px;
background-color: #4caf50;
color: white;
border: none;
border-radius: 4px;
cursor: pointer;
transition: background-color 0.2s ease;
font-weight: 500;
}
.volunteer-btn:hover {
background-color: #43a047;
}
.volunteer-opportunity-details {
margin-bottom: 20px;
padding-bottom: 15px;
border-bottom: 1px solid #eee;
}
.success-message {
display: flex;
flex-direction: column;
align-items: center;
text-align: center;
padding: 20px;
}
.success-message svg {
margin-bottom: 15px;
}
.success-message h3 {
margin-bottom: 10px;
color: #43a047;
}
.contact-info {
margin-top: 15px;
padding-top: 15px;
border-top: 1px solid #eee;
}
.volunteer-btn {
background-color: #2d8898b3;
}
.volunteer-btn:hover {
background-color: #5c9bd9;
}
.footer {
margin-top: 300px;
background-color: #2d8898b3;
color: rgb(255, 255, 255);
padding: 4rem 1rem 2rem;
position: relative;
overflow: hidden;
}
.footer::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 4px;
background: linear-gradient(to right, var(--primary), var(--purple), var(--blue));
}
.footer-content {
max-width: 1200px;
margin: 0 auto;
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 2rem;
position: relative;
z-index: 1;
}
.footer-section {
padding: 1rem;
}
.footer-title {
font-size: 1.5rem;
margin-bottom: 1rem;
color: var(--accent);
position: relative;
display: inline-block;
}
.footer-title::after {
content: '';
position: absolute;
bottom: -5px;
left: 0;
width: 40px;
height: 3px;
background: linear-gradient(to right, var(--pink), var(--purple));
border-radius: 3px;
}
.footer-links {
list-style: none;
}
.footer-links li {
margin-bottom: 0.8rem;
display: flex;
align-items: center;
}
.footer-links i {
margin-right: 0.5rem;
color: var(--accent);
}
.footer-links a {
color: white;
text-decoration: none;
transition: all 0.3s;
position: relative;
}
.footer-links a::after {
content: '';
position: absolute;
bottom: -2px;
left: 0;
width: 0;
height: 2px;
background: var(--accent);
transition: width 0.3s ease;
}
.footer-links a:hover::after {
width: 100%;
}
.social-links {
display: flex;
gap: 1rem;
margin-top: 1rem;
}
.social-links a {
width: 40px;
height: 40px;
border-radius: 50%;
background: rgba(255, 255, 255, 0.1);
display: flex;
align-items: center;
justify-content: center;
color: white;
text-decoration: none;
transition: all 0.3s;
border: 1px solid rgba(255, 255, 255, 0.1);
}
.social-links a:hover {
background: var(--accent);
color: var(--contrast-dark);
transform: translateY(-3px) rotate(8deg);
border-color: var(--accent);
}
.footer-bottom {
text-align: center;
padding-top: 2rem;
margin-top: 2rem;
border-top: 1px solid rgba(255, 255, 255, 0.1);
position: relative;
}
</style>
</head><body>
<nav id="navbar">
<div class="logo">EventPulse</div>
<div class="nav-links">
<a href="home.html">Home</a>
<a href="donate.html">Donate</a>
<a href="services.html">Marketplace</a>
<a href="about.html">About</a>
<a href="contact.html">Contact</a>
<a href="index.html" id="inside">SignUp/LogIn</a>
</div>
</nav>
<main>
<div class="container">
<section class="hero">
<h2>Community Events</h2>
<p>Discover meaningful events happening in our community. Join us in building
stronger communities through participation and engagement. Together, we can make a
difference!</p>
</section>
<section>
<div class="section-header">
<h3>Upcoming Events</h3>
<button class="create-btn" id="createEventBtn">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
fill="currentColor" viewBox="0 0 16 16">
<path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1
1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"/>
</svg>
Create Event
</button>
</div>
<div class="events-grid" id="eventsGrid">
<!-- Events will be loaded here -->
</div>
</section>
<section>
<div class="section-header">
<h3>Volunteering Opportunities</h3>
<button class="create-btn" id="createVolunteerBtn">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
fill="currentColor" viewBox="0 0 16 16">
<path d="M8 0a1 1 0 0 1 1 1v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1
1 0 0 1 0-2h6V1a1 1 0 0 1 1-1z"/>
</svg>
Create Volunteer Event
</button>
</div>
<div class="volunteer-slider" id="volunteerSlider">
<!-- Volunteering opportunities will be loaded here -->
</div>
</section>
</div>
</main>
<div class="modal" id="eventModal">
<div class="modal-content">
<div class="modal-header">
<h4>Create a Community Event</h4>
<button class="close-modal">&times;</button>
</div>
<div class="modal-body">
<form id="createEventForm">
<div class="form-group">
<label for="eventTitle">Event Title*</label>
<input type="text" id="eventTitle" class="form-control" required>
</div>
<div class="form-group">
<label for="eventDate">Date and Time*</label>
<input type="datetime-local" id="eventDate" class="form-control" required>
</div>
<div class="form-group">
<label for="eventLocation">Location*</label>
<input type="text" id="eventLocation" class="form-control" required>
</div>
<div class="form-group">
<label for="eventDescription">Description*</label>
<textarea id="eventDescription" class="form-control" required></textarea>
</div>
<div class="form-group">
<label for="eventImage">Event Image (URL)</label>
<input type="url" id="eventImage" class="form-control">
</div>
<div class="form-group">
<label for="eventCapacity">Capacity (max attendees)</label>
<input type="number" id="eventCapacity" class="form-control" min="1">
</div>
<div class="form-group">
<label for="eventFee">Event Fee ($)</label>
<input type="number" id="eventFee" class="form-control" min="0"
step="0.01" value="0">
</div>
</form>
</div>
<div class="modal-footer">
<button type="button" class="submit-btn" id="submitEventBtn">Create
Event</button>
</div>
</div>
</div>
<div class="modal" id="volunteerModal">
<div class="modal-content">
<div class="modal-header">
<h4>Create a Volunteer Opportunity</h4>
<button class="close-modal">&times;</button>
</div>
<div class="modal-body">
<form id="createVolunteerForm">
<div class="form-group">
<label for="volunteerTitle">Opportunity Title*</label>
<input type="text" id="volunteerTitle" class="form-control" required>
</div>
<div class="form-group">
<label for="volunteerSchedule">Schedule/Frequency*</label>
<input type="text" id="volunteerSchedule" class="form-control"
placeholder="e.g., Weekends, Every Tuesday, Monthly" required>
</div>
<div class="form-group">
<label for="volunteerLocation">Location*</label>
<input type="text" id="volunteerLocation" class="form-control" required>
</div>
<div class="form-group">
<label for="volunteerDescription">Description*</label>
<textarea id="volunteerDescription" class="form-control"
required></textarea>
</div>
<div class="form-group">
<label for="volunteerImage">Image (URL)</label>
<input type="url" id="volunteerImage" class="form-control">
</div>
<div class="form-group">
<label for="volunteerSkills">Required Skills</label>
<input type="text" id="volunteerSkills" class="form-control" placeholder="e.g.,
Teaching, Gardening, Pet Care">
</div>
<div class="form-group">
<label for="volunteerContact">Contact Person*</label>
<input type="text" id="volunteerContact" class="form-control" required>
</div>
</form>
</div>
<div class="modal-footer">
<button type="button" class="submit-btn" id="submitVolunteerBtn">Create
Opportunity</button>
</div>
</div>
</div>
<div class="modal" id="registrationModal">
<div class="modal-content">
<div class="modal-header">
<h4>Register for Event</h4>
<button class="close-modal">&times;</button>
</div>
<div class="modal-body">
<div class="reg-form-header">
<h5 class="reg-event-title" id="regEventTitle"></h5>
<p class="reg-event-details" id="regEventDetails"></p>
</div>
<form id="registrationForm">
<div class="form-group">
<label for="regName">Full Name*</label>
<input type="text" id="regName" class="form-control" required>
</div>
<div class="form-group">
<label for="regEmail">Email*</label>
<input type="email" id="regEmail" class="form-control" required>
</div>
<div class="form-group">
<label for="regPhone">Phone Number*</label>
<input type="tel" id="regPhone" class="form-control" required>
</div>
<div class="payment-info" id="paymentInfo">
<h5>Payment Information</h5>
<p class="payment-amount" id="paymentAmount">Event Fee: $<span
id="eventFeeDisplay">0.00</span></p>
<div class="form-group">
<label for="cardNumber">Card Number*</label>
<input type="text" id="cardNumber" class="form-control"
placeholder="1234 5678 9012 3456" required>
</div>
<div class="form-group">
<label for="cardExpiry">Expiration Date*</label>
<input type="text" id="cardExpiry" class="form-control"
placeholder="MM/YY" required>
</div>
<div class="form-group">
<label for="cardCVV">CVV*</label>
<input type="text" id="cardCVV" class="form-control" placeholder="123"
required>
</div>
</div>
</form>
<div class="success-message" id="successMessage">
<div class="success-icon">✓</div>
<h5 class="success-title">Registration Successful!</h5>
<p class="success-text">Thank you for registering. We look forward to seeing
you at the event!</p>
<button class="close-success" id="closeSuccess">Close</button>
</div>
</div>
<div class="modal-footer" id="regModalFooter">
<button type="button" class="submit-btn" id="submitRegistrationBtn">Complete
Registration</button>
</div>
</div>
</div>
<div id="volunteerRegistrationModal" class="modal">
<div class="modal-content">
<div class="modal-header">
<h3>Volunteer Registration</h3>
<span class="close-modal">&times;</span>
</div>
<div class="modal-body">
<h4 id="volOpportunityTitle"></h4>
<p id="volOpportunityDetails"></p>
<form id="volunteerRegistrationForm">
<div class="form-group">
<label for="volName">Your Name</label>
<input type="text" id="volName" required>
</div>
<div class="form-group">
<label for="volEmail">Email</label>
<input type="email" id="volEmail" required>
</div>
<div class="form-group">
<label for="volPhone">Phone</label>
<input type="tel" id="volPhone" required>
</div>
<div class="form-group">
<label for="volAvailability">Availability</label>
<input type="text" id="volAvailability" placeholder="When are you available to
volunteer?">
</div>
<div class="form-group">
<label for="volExperience">Relevant Experience</label>
<textarea id="volExperience" rows="3" placeholder="Tell us about any
relevant experience"></textarea>
</div>
</form>
<div id="volSuccessMessage" style="display: none;">
<div class="success-container">
<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"
fill="currentColor" viewBox="0 0 16 16">
<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0
0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0
1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
</svg>
<h4>Thank You for Volunteering!</h4>
<p>Your registration has been submitted successfully.</p>
<button id="closeVolSuccess" class="btn">Close</button>
</div>
</div>
</div>
<div id="volModalFooter" class="modal-footer">
<button type="button" class="btn submit-btn"
id="submitVolunteerRegistrationBtn">Submit</button>
</div>
</div>
</div>
<footer class="footer">
<div class="footer-content">
<div class="footer-section">
<h3 class="footer-title">EventPulse</h3>
<p>Empowering communities through meaningful connections and impactful
events.</p>
<div class="social-links">
<a href="#"><i class="fab fa-facebook-f"></i></a>
<a href="#"><i class="fab fa-twitter"></i></a>
<a href="#"><i class="fab fa-instagram"></i></a>
<a href="#"><i class="fab fa-linkedin-in"></i></a>
</div>
</div>
<div class="footer-section">
<h3 class="footer-title">Quick Links</h3>
<ul class="footer-links">
<li><a href="home.html">Home</a></li>
<li><a href="donate.html">Donate</a></li>
<li><a href="services.html">Marketplace</a></li>
<li><a href="about.html">About Us</a></li>
<li><a href="contact.html">Contact</a></li>
<li><a href="index.html">SignUp/Login</a></li>
</ul>
</div>
</div>
</footer>
<script>
const createEventBtn = document.getElementById('createEventBtn');
const eventModal = document.getElementById('eventModal');
const submitEventBtn = document.getElementById('submitEventBtn');
const createEventForm = document.getElementById('createEventForm');
const eventsGrid = document.getElementById('eventsGrid');
// DOM Elements - Volunteer Creationconst createVolunteerBtn = document.getElementById('createVolunteerBtn');
const volunteerModal = document.getElementById('volunteerModal');
const submitVolunteerBtn = document.getElementById('submitVolunteerBtn');
const createVolunteerForm = document.getElementById('createVolunteerForm');
const volunteerSlider = document.getElementById('volunteerSlider');
// DOM Elements - Registration
const registrationModal = document.getElementById('registrationModal');
const submitRegistrationBtn = document.getElementById('submitRegistrationBtn');
const registrationForm = document.getElementById('registrationForm');
const successMessage = document.getElementById('successMessage');
const closeSuccess = document.getElementById('closeSuccess');
const regModalFooter = document.getElementById('regModalFooter');
const paymentInfo = document.getElementById('paymentInfo');
// DOM Elements - Volunteer Registration
const volunteerRegistrationModal =
document.getElementById('volunteerRegistrationModal');
const submitVolunteerRegistrationBtn =
document.getElementById('submitVolunteerRegistrationBtn');
const volunteerRegistrationForm =
document.getElementById('volunteerRegistrationForm');
const volSuccessMessage = document.getElementById('volSuccessMessage');
const closeVolSuccess = document.getElementById('closeVolSuccess');
const volModalFooter = document.getElementById('volModalFooter');
// Modal Close Buttons
const closeModalButtons = document.querySelectorAll('.close-modal');
// Backend API URLs
const API_URL = 'http://localhost:3000/api';
const EVENTS_ENDPOINT = `${API_URL}/events`;
const VOLUNTEER_ENDPOINT = `${API_URL}/volunteers`;
const REGISTRATION_ENDPOINT = `${API_URL}/registrations`;
const VOLUNTEER_REGISTRATION_ENDPOINT = `${API_URL}/volunteer`;
// Event Listeners
document.addEventListener('DOMContentLoaded', () => {
// Load existing events and volunteer opportunities
fetchEvents();
fetchVolunteerOpportunities();
// Event creation modal
createEventBtn.addEventListener('click', () => openModal(eventModal));
submitEventBtn.addEventListener('click', createEvent);
// Volunteer creation modal
createVolunteerBtn.addEventListener('click', () => openModal(volunteerModal));
submitVolunteerBtn.addEventListener('click', createVolunteerOpportunity);
// Registration
submitRegistrationBtn.addEventListener('click', submitRegistration);
closeSuccess.addEventListener('click', () => {
successMessage.style.display = 'none';
regModalFooter.style.display = 'flex';
registrationForm.style.display = 'block';
closeModal(registrationModal);
});
// Volunteer Registration
if (submitVolunteerRegistrationBtn) {
submitVolunteerRegistrationBtn.addEventListener('click', function() {
const opportunityId = this.getAttribute('data-opportunity-id');
console.log('Button clicked, opportunity ID:', opportunityId);
submitVolunteerRegistration(opportunityId);
});
} else {
console.error('Submit volunteer registration button not found');
}
if (closeVolSuccess) {
closeVolSuccess.addEventListener('click', () => {
volSuccessMessage.style.display = 'none';
volModalFooter.style.display = 'flex';
volunteerRegistrationForm.style.display = 'block';
closeModal(volunteerRegistrationModal);
});
}
// Close modals
closeModalButtons.forEach(button => {
button.addEventListener('click', (e) => {
const modal = e.target.closest('.modal');
closeModal(modal);
});
});
});
// Modal functions
function openModal(modal) {
modal.style.display = 'flex';
}
function closeModal(modal) {
modal.style.display = 'none';
const forms = modal.querySelectorAll('form');
forms.forEach(form => form.reset());
if (modal === registrationModal) {
successMessage.style.display = 'none';
regModalFooter.style.display = 'flex';
registrationForm.style.display = 'block';
paymentInfo.style.display = 'none';
} else if (modal === volunteerRegistrationModal) {
volSuccessMessage.style.display = 'none';
if (volModalFooter) volModalFooter.style.display = 'flex';
if (volunteerRegistrationForm) volunteerRegistrationForm.style.display = 'block';
}
}
// Fetch events from MongoDB
async function fetchEvents() {
try {
const response = await fetch(EVENTS_ENDPOINT);
if (!response.ok) {
throw new Error('Failed to fetch events');
}
const events = await response.json();
displayEvents(events);
} catch (error) {
console.error('Error fetching events:', error);
// Show user-friendly error message
eventsGrid.innerHTML = '<p class="error-message">Unable to load events.Please try again later.</p>';
}
}
// Fetch volunteer opportunities from MongoDB
async function fetchVolunteerOpportunities() {
try {
const response = await fetch(VOLUNTEER_ENDPOINT);
if (!response.ok) {
throw new Error('Failed to fetch volunteer opportunities');
}
const opportunities = await response.json();
displayVolunteerOpportunities(opportunities);
} catch (error) {
console.error('Error fetching volunteer opportunities:', error);
// Show user-friendly error message
volunteerSlider.innerHTML = '<p class="error-message">Unable to load volunteer opportunities. Please try again later.</p>';
}
}
// Create new event
async function createEvent() {
// Get form values
const title = document.getElementById('eventTitle').value;
const date = document.getElementById('eventDate').value;
const location = document.getElementById('eventLocation').value;
const description = document.getElementById('eventDescription').value;
const imageUrl = document.getElementById('eventImage').value;
const capacity = document.getElementById('eventCapacity').value;
const fee = document.getElementById('eventFee').value;
// Form validation
if (!title || !date || !location || !description) {
alert('Please fill in all required fields.');
return;
}
// Create event object
const eventData = {
title,
date,
location,
description,
imageUrl: "./images/homeservices.jpg",
capacity: capacity ? parseInt(capacity) : null,
fee: fee ? parseFloat(fee) : 0,
registeredAttendees: [],
createdAt: new Date()
};
try {
const response = await fetch(EVENTS_ENDPOINT, {
method: 'POST',
headers: {
'Content-Type': 'application/json'
},
body: JSON.stringify(eventData)
});
if (!response.ok) {
throw new Error('Failed to create event');
}
const newEvent = await response.json();
// Add new event to the display
addEventToDisplay(newEvent);
// Close modal and reset form
closeModal(eventModal);
// Show success notification
showNotification('Event created successfully!');
} catch (error) {
console.error('Error creating event:', error);
alert('Failed to create event. Please try again.');
}
}
async function createVolunteerOpportunity() {
// Get form values
const title = document.getElementById('volunteerTitle').value;
const schedule = document.getElementById('volunteerSchedule').value;
const location = document.getElementById('volunteerLocation').value;
const description = document.getElementById('volunteerDescription').value;
const imageUrl = document.getElementById('volunteerImage').value;
const skills = document.getElementById('volunteerSkills').value;
const contact = document.getElementById('volunteerContact').value;
// Form validation
if (!title || !schedule || !location || !description || !contact) {
alert('Please fill in all required fields.');
return;
}
// Create volunteer opportunity object
const volunteerData = {
title,
schedule,
location,
description,
imageUrl: imageUrl ||
'https://via.placeholder.com/300x200?text=Volunteer+Opportunity',
skills: skills ? skills.split(',').map(skill => skill.trim()) : [],
contact,
volunteers: [],
createdAt: new Date()
};
try {
const response = await fetch(VOLUNTEER_ENDPOINT, {
method: 'POST',
headers: {
'Content-Type': 'application/json'
},body: JSON.stringify(volunteerData)
});
if (!response.ok) {
throw new Error('Failed to create volunteer opportunity');
}
const newOpportunity = await response.json();
// Add new opportunity to the display
addVolunteerOpportunityToDisplay(newOpportunity);
// Close modal and reset form
closeModal(volunteerModal);
// Show success notification
showNotification('Volunteer opportunity created successfully!');
} catch (error) {
console.error('Error creating volunteer opportunity:', error);
alert('Failed to create volunteer opportunity. Please try again.');
}
}
// Display events
function displayEvents(events) {
eventsGrid.innerHTML = '';
if (events.length === 0) {
eventsGrid.innerHTML = '<p class="no-events">No events scheduled. Create one!</p>';
return;
}
events.forEach(event => {
addEventToDisplay(event);
});
}
// Add single event to display
function addEventToDisplay(event) {
const eventDate = new Date(event.date);
const formattedDate = eventDate.toLocaleDateString('en-US', {
weekday: 'long',
year: 'numeric',
month: 'long',
day: 'numeric'
});
const formattedTime = eventDate.toLocaleTimeString('en-US', {
hour: '2-digit',
minute: '2-digit'
});
const eventElement = document.createElement('div');
eventElement.className = 'event-card';
eventElement.innerHTML = `
<div class="event-image">
<img src="./images/event.webp" alt="${event.title}" height=100px width=300px>
</div>
<div class="event-details">
<h4>${event.title}</h4>
<p class="event-date">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
viewBox="0 0 16 16">
<path d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0
1-.5-.5v-1z"/>
<path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0
0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1
1 0 0 0 1-1V4H1z"/>
</svg>
${formattedDate} at ${formattedTime}
</p>
<p class="event-location">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
viewBox="0 0 16 16">
<path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8
14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3
6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0
4.314 6 10 6 10z"/>
<path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
</svg>
${event.location}
</p>
<p class="event-description">${event.description.substring(0,
100)}${event.description.length > 100 ? '...' : ''}</p>
<div class="event-footer">
<span class="event-capacity">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
viewBox="0 0 16 16">
<path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0
6z"/>
<path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75
1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
<path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
</svg>
${event.registeredAttendees ? event.registeredAttendees.length : 0}${event.capacity
? '/' + event.capacity : ''}
</span>
<span class="event-fee">${event.fee > 0 ? '$' + event.fee.toFixed(2) : 'Free'}</span>
<button class="register-btn" data-event-id="${event._id}">Register</button>
</div>
</div>
`;
eventsGrid.appendChild(eventElement);
// Add event listener for register button
const registerBtn = eventElement.querySelector('.register-btn');
registerBtn.addEventListener('click', () => openRegistrationModal(event));
}
function openRegistrationModal(event) {
// Set event details in registration modal
document.getElementById('regEventTitle').textContent = event.title;
const eventDate = new Date(event.date);
const formattedDate = eventDate.toLocaleDateString('en-US', {
weekday: 'long',
year: 'numeric',
month: 'long',
day: 'numeric'
});
const formattedTime = eventDate.toLocaleTimeString('en-US', {
hour: '2-digit',
minute: '2-digit'
});
document.getElementById('regEventDetails').textContent = `${formattedDate} at
${formattedTime} • ${event.location}`;
// Set payment details
if (event.fee > 0) {
document.getElementById('eventFeeDisplay').textContent = event.fee.toFixed(2);
paymentInfo.style.display = 'block';
} else {
paymentInfo.style.display = 'none';
}
// Set event ID as data attribute
submitRegistrationBtn.setAttribute('data-event-id', event._id);
// Reset form and success message
successMessage.style.display = 'none';
regModalFooter.style.display = 'flex';
registrationForm.style.display = 'block';
registrationForm.reset();
// Open modal
openModal(registrationModal);
}
// Open volunteer modal
function displayVolunteerOpportunities(opportunities) {
volunteerSlider.innerHTML = '';
if (opportunities.length === 0) {
volunteerSlider.innerHTML = '<p class="no-opportunities">No volunteer opportunities available. Create one!</p>';
return;
}
// Create a container for the volunteer cards grid
const volunteerGrid = document.createElement('div');
volunteerGrid.className = 'volunteer-grid';
volunteerSlider.appendChild(volunteerGrid);
opportunities.forEach(opportunity => {
addVolunteerOpportunityToDisplay(opportunity, volunteerGrid);
});
}
// Add single volunteer opportunity to display
function addVolunteerOpportunityToDisplay(opportunity, container) {
const targetContainer = container || volunteerSlider.querySelector('.volunteer-grid') ||
volunteerSlider;
const opportunityElement = document.createElement('div');
opportunityElement.className = 'volunteer-card';
opportunityElement.innerHTML = `
<div class="volunteer-image">
<img src="./images/volunteer1.jpg" alt="${opportunity.title}" height=70px width=20px>
</div>
<div class="volunteer-details">
<h4>${opportunity.title}</h4>
<p class="volunteer-schedule">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
viewBox="0 0 16 16">
<path d="M8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5
0 0 0 8.5 9V5.5z"/>
<path d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273
12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0
3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0
0 0-1h-3zm1.038 3.018a6.093 6.093 0 0 1 .924 0 6 6 0 1 1-.924 0zM0 8.5A.5.5 0 0 1 .5
8H2a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5zM8 .5A.5.5 0 0 1 8.5 0h5a.5.5 0 0 1 0 1h-5A.5.5 0 0 1
8 .5zm5.5 7.5a.5.5 0 0 1 0 1H11a.5.5 0 0 1 0-1h2.5z"/>
</svg>
${opportunity.schedule}
</p>
<p class="volunteer-location">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
viewBox="0 0 16 16">
<path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8
14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3
6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0
4.314 6 10 6 10z"/>
<path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
</svg>
${opportunity.location}
</p>
<p class="volunteer-description">${opportunity.description.substring(0,
100)}${opportunity.description.length > 100 ? '...' : ''}</p>
<div class="volunteer-footer">
${opportunity.skills && opportunity.skills.length > 0 ?
`<div class="skills-tags">
${opportunity.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
</div>`
: ''}
<div class="volunteer-metrics">
<span class="volunteer-count">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
fill="currentColor" viewBox="0 0 16 16">
<path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0
0 0 6z"/>
<path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5
13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
<path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
</svg>
${opportunity.volunteers ? opportunity.volunteers.length : 0} Volunteers
</span>
</div>
<button class="volunteer-btn"
data-opportunity-id="${opportunity._id}">Volunteer</button>
</div>
</div>
`;
targetContainer.appendChild(opportunityElement);
// Add event listener for volunteer button
const volunteerBtn = opportunityElement.querySelector('.volunteer-btn');volunteerBtn.addEventListener('click', () =>
openVolunteerRegistrationModal(opportunity));
}
// Open volunteer registration modal
function openVolunteerRegistrationModal(opportunity) {
console.log('Opening modal for opportunity:', opportunity);
console.log('Opportunity ID:', opportunity._id);
// Make sure the modal exists
if (!volunteerRegistrationModal) {
console.error('volunteerRegistrationModal not found in the DOM');
return;
}
// Clear previous content
const modalTitle = volunteerRegistrationModal.querySelector('.modal-title');
if (modalTitle) {
modalTitle.textContent = 'Volunteer for ' + opportunity.title;
}
// Create a more detailed registration form
const modalBody = volunteerRegistrationModal.querySelector('.modal-body');
if (!modalBody) {
console.error('Modal body element not found');
return;
}
modalBody.innerHTML = `
<div class="volunteer-opportunity-details">
<p class="volunteer-schedule">
<strong>Schedule:</strong> ${opportunity.schedule}
</p>
<p class="volunteer-location">
<strong>Location:</strong> ${opportunity.location}
</p>
<p class="volunteer-description">
${opportunity.description}
</p>
${opportunity.skills && opportunity.skills.length > 0 ?
`<div class="skills-required">
<strong>Skills Needed:</strong>
<div class="skills-tags">
${opportunity.skills.map(skill => `<span class="skill-tag">${skill}</span>`).join('')}
</div>
</div>`
: ''}
</div>
<form id="volunteerRegistrationForm">
<div class="form-group">
<label for="volunteerName">Your Name *</label>
<input type="text" id="volunteerName" class="form-control" required>
</div>
<div class="form-group">
<label for="volunteerEmail">Email Address *</label>
<input type="email" id="volunteerEmail" class="form-control" required>
</div>
<div class="form-group">
<label for="volunteerPhone">Phone Number *</label>
<input type="tel" id="volunteerPhone" class="form-control" required>
</div>
<div class="form-group">
<label for="volunteerExperience">Relevant Experience</label>
<textarea id="volunteerExperience" class="form-control" rows="3"></textarea>
</div>
<div class="form-group">
<label for="volunteerAvailability">Availability *</label>
<select id="volunteerAvailability" class="form-control" required>
<option value="">Select your availability</option>
<option value="full">Full time as specified</option>
<option value="partial">Partial availability</option>
<option value="flexible">Flexible schedule</option>
</select>
</div>
</form>
<p class="contact-info">
<strong>Coordinator:</strong> ${opportunity.contact}
</p>
`;
// Update submit button to have the opportunity ID
if (submitVolunteerRegistrationBtn) {
submitVolunteerRegistrationBtn.setAttribute('data-opportunity-id', opportunity._id);
submitVolunteerRegistrationBtn.textContent = 'Submit Application';
} else {
console.error('Submit volunteer registration button not found');
}
// Open the modal
openModal(volunteerRegistrationModal);
}
// Submit volunteer registration
// Submit volunteer registration
// Submit volunteer registration
async function submitVolunteerRegistration(opportunityId) {
console.log('submitVolunteerRegistration called with ID:', opportunityId);
// Get form element
const form = document.getElementById('volunteerRegistrationForm');
// Validate opportunityId
if (!opportunityId) {
console.error('Invalid opportunity ID:', opportunityId);
alert('An error occurred. Please try again.');
return;
}
// Basic validation
if (!form) {
console.error('Volunteer registration form not found');
return;
}
if (!form.checkValidity()) {
form.reportValidity();
return;
}
try {
// Get form values
const name = document.getElementById('volunteerName').value;
const email = document.getElementById('volunteerEmail').value;
const phone = document.getElementById('volunteerPhone').value;
const experience = document.getElementById('volunteerExperience').value;
const availability = document.getElementById('volunteerAvailability').value;
// Create volunteer registration data
const volunteerData = {
opportunityId: opportunityId,
volunteer: {
name,
email,
phone,
experience,
availability,
registeredAt: new Date()
}
};
// Display loading state
if (submitVolunteerRegistrationBtn) {
submitVolunteerRegistrationBtn.disabled = true;
submitVolunteerRegistrationBtn.textContent = 'Submitting...';
}
// Log the request for debugging
console.log('Sending volunteer registration:', volunteerData);
// Send the registration request
const response = await fetch(VOLUNTEER_REGISTRATION_ENDPOINT, {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'Accept': 'application/json'
},
body: JSON.stringify(volunteerData)
});
// Check if response is actually successful based on HTTP status
if (!response.ok) {
const errorData = await response.json().catch(() => null) || await response.text();
let errorMessage = 'Server error: ' + response.status;
if (typeof errorData === 'object' && errorData.message) {
errorMessage = errorData.message;
} else if (typeof errorData === 'string') {
errorMessage = errorData;
}
throw new Error(errorMessage);
}
// Get the response data
let responseData;
try {
responseData = await response.json();
console.log('Registration response:', responseData);
} catch (e) {
// If it's not JSON, try to get text
const textResponse = await response.text();
console.log('Text response:', textResponse);
// If it contains "successful", consider it a success
if (textResponse.includes("successful")) {
responseData = { message: textResponse };
} else {
throw new Error('Invalid response from server');
}
}
// Show success message
if (volunteerRegistrationModal) {
const modalBody = volunteerRegistrationModal.querySelector('.modal-body');
if (modalBody) {
modalBody.innerHTML = `
<div class="success-message">
<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="green"
viewBox="0 0 16 16">
<path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0
0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0
1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
</svg>
<h3>Thank You!</h3>
<p>Your volunteer application has been submitted successfully. The
coordinator will contact you soon with more information.</p>
</div>
`;
}
// Update submit button
if (submitVolunteerRegistrationBtn) {
submitVolunteerRegistrationBtn.textContent = 'Close';
submitVolunteerRegistrationBtn.disabled = false;
submitVolunteerRegistrationBtn.onclick = () =>
closeModal(volunteerRegistrationModal);
}
}
// Update the volunteer count in the UI
updateVolunteerCount(opportunityId);
// Show notification
showNotification('Volunteer application submitted successfully!');
} catch (error) {
console.error('Error registering as volunteer:', error);
// Re-enable button
if (submitVolunteerRegistrationBtn) {
submitVolunteerRegistrationBtn.disabled = false;
submitVolunteerRegistrationBtn.textContent = 'Submit Application';
}
// Show a more user-friendly error message
alert(`Failed to submit volunteer application: ${error.message || 'Please try again later'}`);
}
}
// Update volunteer count in UI
function updateVolunteerCount(opportunityId) {
// Find the volunteer card and update the count
const volunteerCards = document.querySelectorAll('.volunteer-card');
volunteerCards.forEach(card => {
const volunteerBtn = card.querySelector('.volunteer-btn');
if (volunteerBtn && volunteerBtn.getAttribute('data-opportunity-id') === opportunityId) {
const countSpan = card.querySelector('.volunteer-count');
if (countSpan) {
const currentText = countSpan.textContent;
const currentCount = parseInt(currentText);
if (!isNaN(currentCount)) {
countSpan.innerHTML = `
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
fill="currentColor" viewBox="0 0 16 16">
<path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3
0 0 0 0 6z"/>
<path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5
13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
<path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
</svg>
${currentCount + 1} Volunteers
`;
}
}
}
});
}
async function submitRegistration() {
try {
// Existing form data collection and validation code...
// Check if the server is running first
try {
const pingResponse = await fetch(`${API_URL}/ping`, {
method: 'GET',
headers: { 'Accept': 'application/json' }
});
// If we can't connect properly, throw an error
if (!pingResponse.ok) {
throw new Error('Cannot connect to server');
}
} catch (connectionError) {
throw new Error('API server is not available. Please check if the server is running.');
}
// Create registration data object
const registrationData = {
eventId: submitRegistrationBtn.getAttribute('data-event-id'),attendee: {
name: document.getElementById('regName').value,
email: document.getElementById('regEmail').value,
phone: document.getElementById('regPhone').value
}
};
// Send the registration request
const response = await fetch(REGISTRATION_ENDPOINT, {
method: 'POST',
headers: {
'Content-Type': 'application/json',
'Accept': 'application/json'
},
body: JSON.stringify(registrationData)
});
// Safely parse the response
let responseData;
const contentType = response.headers.get('content-type');
if (contentType && contentType.includes('application/json')) {
responseData = await response.json();
} else {
const textResponse = await response.text();
console.error('Received non-JSON response:', textResponse);
throw new Error('Server returned an invalid response format');
}
if (!response.ok) {
throw new Error(responseData.message || 'Failed to register for event');
}
// Success handling code...
registrationForm.style.display = 'none';
regModalFooter.style.display = 'none';
successMessage.style.display = 'flex';
updateEventAttendeeCount(eventId);
} catch (error) {
console.error('Error registering for event:', error);
}
}
function closeModal(modal) {
modal.style.display = 'none';
const forms = modal.querySelectorAll('form');
forms.forEach(form => form.reset());
if (modal === registrationModal) {
successMessage.style.display = 'none';
regModalFooter.style.display = 'flex';
registrationForm.style.display = 'block';
paymentInfo.style.display = 'none';
} else if (modal === volunteerRegistrationModal) {
volSuccessMessage.style.display = 'none';
volModalFooter.style.display = 'flex';
volunteerRegistrationForm.style.display = 'block';
}
}
function showNotification(message) {
const notification = document.createElement('div');
notification.className = 'notification';
notification.textContent = message;
document.body.appendChild(notification);
// Show notification
setTimeout(() => {
notification.classList.add('show');
}, 10);
// Hide and remove notification after 3 seconds
setTimeout(() => {
notification.classList.remove('show');
setTimeout(() => {
document.body.removeChild(notification);
}, 300);
}, 3000);
}
function updateUserInterface() {
const loginButton = document.getElementById('loginButton');
const userDropdown = document.getElementById('userDropdown');
if (isLoggedIn && currentUser) {
loginButton.textContent = currentUser.name;
loginButton.classList.add('logged-in');
} else {
loginButton.textContent = 'Sign Up/Login';
loginButton.classList.remove('logged-in');
}
}
function showSuccessMessage(message) {
const successMessage = document.getElementById('successMessage');
successMessage.textContent = message;
successMessage.style.display = 'block';
setTimeout(() => {
successMessage.style.display = 'none';
}, 3000);
}
function handleLogout() {
isLoggedIn = false;
currentUser = null;
updateUserInterface();
showSuccessMessage('Successfully logged out!');
setTimeout(() => {
window.location.reload();
}, 1500);
}
// Event Listeners
document.addEventListener('DOMContentLoaded', () => {
const loginButton = document.getElementById('loginButton');
const userDropdown = document.getElementById('userDropdown');
const logoutLink = document.getElementById('logoutLink');
// Toggle dropdown
loginButton.addEventListener('click', () => {
if (isLoggedIn) {
userDropdown.classList.toggle('active');
}
});
// Close dropdown when clicking outside
document.addEventListener('click', (event) => {
if (!event.target.closest('.user-menu')) {
userDropdown.classList.remove('active');
}
});
// Handle logout
logoutLink.addEventListener('click', (e) => {
e.preventDefault();
handleLogout();
});
// Add form submission handlers
const loginForm = document.querySelector('.card-front .form-section');
const signupForm = document.querySelector('.card-back .form-section');
loginForm.querySelector('button').addEventListener('click', (e) => handleAuth(e,
false));
signupForm.querySelector('button').addEventListener('click', (e) => handleAuth(e,
true));
});
// Homepage: Retrieve and display user email
window.onload = function() {
let email = localStorage.getItem("userEmail");
if (email) {
alert("hello " + email);
}
};
const user = JSON.parse(localStorage.getItem('user'));
if (user) {
// Set username text
document.getElementById("inside").textContent = "";
// Create dropdown structure
const dropdown = document.createElement("div");
dropdown.classList.add("dropdown");
dropdown.innerHTML = `
<button class="dropbtn" id="profileBtn">${user.username} ▼</button>
<div class="dropdown-content" id="dropdownMenu">
<a href="/profile.html">Profile</a>
<a href="/index.html" id="logout">Logout</a>
</div>
`;
document.getElementById("inside").appendChild(dropdown);
// Toggle dropdown visibility on button click
document.getElementById("profileBtn").addEventListener("click", (event) => {
event.preventDefault();
event.stopPropagation();
document.getElementById("dropdownMenu").classList.toggle("show");
});
// Close dropdown when clicking outside
document.addEventListener("click", (event) => {
if (!dropdown.contains(event.target)) {
document.getElementById("dropdownMenu").classList.remove("show");
}
});
document.getElementById("profileLink").addEventListener("click", () => {
window.location.href = "profile.html";});
// Logout functionality
document.getElementById("logout").addEventListener("click", () => {
localStorage.removeItem("user");
alert("You have been logged out!");
window.location.href = "/login.html";
});
}
</script>
</body>
